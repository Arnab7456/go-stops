"use client";

import { LocateFixed } from "lucide-react";
import { useState } from "react";

interface HeroGalleryProps {
  images: string[];
}

const HeroGallery = ({ images }: HeroGalleryProps) => {
  const [mainImage] = useState(images[0]);

  return (
    <div className="container mx-auto px-4 py-6">
      {/* Mobile gallery */}
      <div className="relative block md:hidden">
        <div className="relative w-full h-[400px] overflow-hidden">
          <div className="relative w-full h-full">
            {(images || []).slice(0, 6).map((imgSrc, idx) => (
              <div
                key={`mobile-slide-${idx}`}
                className={`absolute inset-0 transition-opacity duration-300 bg-gray-100 ${
                  idx === 0 ? "opacity-100" : "opacity-0"
                }`}
              >
                <img
                  src={imgSrc}
                  alt={`mobile-image-${idx + 1}`}
                  className="w-full h-full object-cover"
                  style={{ aspectRatio: "4 / 3" }}
                />
                <div className="absolute bottom-0 left-0 right-0 h-[20%] bg-gradient-to-b from-transparent to-white" />
              </div>
            ))}
          </div>

          <div className="absolute bottom-16 right-4 inline-flex items-center gap-1 px-2 py-1 rounded-[8px] bg-[rgba(255,255,255,0.90)] shadow-[0_4px_8px_0_rgba(70,69,70,0.25)] text-[14px] leading-[19px]">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="17"
              viewBox="0 0 16 17"
              fill="none"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11.4282 2.08253C10.812 1.99998 10.0275 1.99999 9.04947 2H6.83517C5.85718 1.99999 5.07266 1.99998 4.45646 2.08253C3.81836 2.16802 3.28634 2.35017 2.86437 2.77067C2.42422 3.20928 2.24401 3.76744 2.16279 4.44006L2.15881 4.47296L2.1604 4.6032C2.01893 4.69567 1.88604 4.80294 1.76148 4.9275C1.26257 5.4264 1.04116 6.05904 0.936075 6.84065C0.833966 7.60013 0.833974 8.57055 0.833985 9.79572V9.87094L0.834034 10.1595C0.834688 11.2425 0.842563 12.1305 0.936075 12.826C1.04116 13.6076 1.26257 14.2403 1.76148 14.7392C2.26039 15.2381 2.89302 15.4595 3.67464 15.5646C4.43411 15.6667 5.40454 15.6667 6.62971 15.6667H9.37159C10.5968 15.6667 11.5672 15.6667 12.3267 15.5646C13.1083 15.4595 13.7409 15.2381 14.2398 14.7392C14.7387 14.2403 14.9601 13.6076 15.0652 12.826C15.1673 12.0665 15.1673 11.0961 15.1673 9.87094V9.79573C15.1673 8.57055 15.1673 7.60013 15.0652 6.84065C14.9601 6.05904 14.7387 5.4264 14.2398 4.9275C14.0819 4.7696 13.9106 4.63949 13.7255 4.53208V4.46992L13.7219 4.44006C13.6406 3.76744 13.4604 3.20928 13.0203 2.77067C12.5983 2.35017 12.0663 2.16802 11.4282 2.08253ZM1.83439 10.3933C1.83646 11.3767 1.84919 12.1128 1.92716 12.6928C2.01733 13.3635 2.18645 13.7499 2.46859 14.0321C2.75073 14.3142 3.13716 14.4833 3.80788 14.5735C4.49299 14.6656 5.3961 14.6667 6.66732 14.6667H9.33399C10.6052 14.6667 11.5083 14.6656 12.1934 14.5735C12.7028 14.505 13.0482 14.391 13.3085 14.2165L11.5171 12.6043C10.9974 12.1365 10.2233 12.0899 9.65121 12.492L9.45242 12.6317C8.72352 13.144 7.73187 13.0581 7.10191 12.4281L4.24209 9.56829C3.85741 9.18361 3.24037 9.16307 2.83096 9.5213L1.83439 10.3933ZM12.1861 11.861L13.9116 13.4139C13.9821 13.2165 14.0354 12.9808 14.0741 12.6928C14.1663 12.0077 14.1673 11.1045 14.1673 9.83333C14.1673 8.56212 14.1663 7.65901 14.0741 6.9739C13.984 6.30317 13.8149 5.91674 13.5327 5.6346C13.2506 5.35246 12.8641 5.18335 12.1934 5.09317C11.5083 5.00106 10.6052 5 9.33399 5H6.66732C5.3961 5 4.49299 5.00106 3.80788 5.09317C3.13716 5.18335 2.75073 5.35246 2.46859 5.6346C2.18645 5.91674 2.01733 6.30317 1.92716 6.9739C1.85482 7.51192 1.83864 8.18438 1.83502 9.06397L2.17246 8.76872C2.97807 8.06381 4.19226 8.10424 4.94919 8.86118L7.80901 11.721C8.09536 12.0073 8.54611 12.0464 8.87743 11.8135L9.07622 11.6738C10.0298 11.0037 11.3198 11.0813 12.1861 11.861ZM3.57024 3.47901C3.41027 3.63843 3.29559 3.84693 3.21928 4.1813C3.36508 4.14927 3.51682 4.12331 3.67464 4.10209C4.43411 3.99998 5.40453 3.99999 6.62971 4H9.3716C10.5968 3.99999 11.5672 3.99998 12.3267 4.10209C12.4408 4.11743 12.5517 4.13525 12.6595 4.15605C12.5832 3.83636 12.4703 3.63437 12.3144 3.47901C12.1093 3.27467 11.8232 3.1444 11.2954 3.07368C10.7533 3.00106 10.036 3 9.01273 3H6.87191C5.84863 3 5.1313 3.00106 4.58925 3.07368C4.0614 3.1444 3.7753 3.27467 3.57024 3.47901Z"
                fill="#2A2929"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11.6673 6C10.8389 6 10.1673 6.67157 10.1673 7.5C10.1673 8.32843 10.8389 9 11.6673 9C12.4957 9 13.1673 8.32843 13.1673 7.5C13.1673 6.67157 12.4957 6 11.6673 6ZM11.6673 7C11.3912 7 11.1673 7.22386 11.1673 7.5C11.1673 7.77614 11.3912 8 11.6673 8C11.9435 8 12.1673 7.77614 12.1673 7.5C12.1673 7.77614 11.9435 8 11.6673 8C10.8389 8 10.1673 7.32843 10.1673 6.5C10.1673 5.67157 10.8389 5 11.6673 5C12.4957 5 13.1673 5.67157 13.1673 6.5C13.1673 7.32843 12.4957 8 11.6673 8Z"
                fill="#2A2929"
              />
            </svg>
            {`1/${Math.max(1, (images || []).slice(0, 6).length)}`}
          </div>

          <div className="absolute top-0 inline-flex items-center justify-center px-4 py-1 gap-[10px] bg-[#FFDB0D] shadow-[0_4px_6px_0_rgba(70,69,70,0.20)] rounded-br-[16px] text-[14px] font-semibold leading-5">
            Popular for long-stays
          </div>
        </div>

        <div className="w-[calc(100%-32px)] mx-[16px] rounded-[16px] border border-[#EFEFEF] bg-white flex flex-col items-start px-4 py-2 -mt-14 relative z-50">
          <div className="flex flex-col gap-2 py-2">
            <h1 className="text-[23px] leading-[28px] tracking-[-0.46px] font-bold text-[#2A2929] font-['Nunito_Sans']">
              Bengaluru, HSR Silk Board
            </h1>
            <div className="flex gap-2">
              <button className="text-grey-700 text-center font-['Nunito_Sans'] text-[14px] font-semibold leading-[19px] underline decoration-solid underline-offset-auto">
                View location
              </button>
            </div>
          </div>
          <div className="py-3 border-t border-[#EFEFEF] flex flex-col gap-2">
            <div className="flex gap-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="17"
                viewBox="0 0 16 17"
                fill="none"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M6.00065 1.33337C4.25175 1.33337 2.83398 2.75114 2.83398 4.50004C2.83398 6.24894 4.25175 7.66671 6.00065 7.66671C7.74955 7.66671 9.16732 6.24894 9.16732 4.50004C9.16732 2.75114 7.74955 1.33337 6.00065 1.33337ZM3.83398 4.50004C3.83398 3.30342 4.80403 2.33337 6.00065 2.33337C7.19727 2.33337 8.16732 3.30342 8.16732 4.50004C8.16732 5.69666 7.19727 6.66671 6.00065 6.66671C4.80403 6.66671 3.83398 5.69666 3.83398 4.50004Z"
                  fill="#5F37D5"
                />
                <path
                  d="M10.0007 2.00004C9.72451 2.00004 9.50065 2.2239 9.50065 2.50004C9.50065 2.77618 9.72451 3.00004 10.0007 3.00004C10.8291 3.00004 11.5007 3.67161 11.5007 4.50004C11.5007 5.32847 10.8291 6.00004 10.0007 6.00004C9.72451 6.00004 9.50065 6.2239 9.50065 6.50004C9.50065 6.77618 9.72451 7.00004 10.0007 7.00004C11.3814 7.00004 12.5007 5.88075 12.5007 4.50004C12.5007 3.11933 11.3814 2.00004 10.0007 2.00004Z"
                  fill="#5F37D5"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M2.45275 9.51363C3.38566 8.98054 4.64109 8.66671 6.00065 8.66671C7.36021 8.66671 8.61564 8.98054 9.54855 9.51363C10.4673 10.0386 11.1673 10.8401 11.1673 11.8334C11.1673 12.8266 10.4673 13.6281 9.54855 14.1531C8.61564 14.6862 7.36021 15 6.00065 15C4.64109 15 3.38566 14.6862 2.45275 14.1531C1.53398 13.6281 0.833984 12.8266 0.833984 11.8334C0.833984 10.8401 1.53398 10.0386 2.45275 9.51363ZM2.94889 10.3819C2.17866 10.822 1.83398 11.3539 1.83398 11.8334C1.83398 12.3129 2.17866 12.8447 2.94889 13.2849C3.70498 13.7169 4.78288 14 6.00065 14C7.21842 14 8.29632 13.7169 9.05241 13.2849C9.82265 12.8447 10.1673 12.3129 10.1673 11.8334C10.1673 11.3539 9.82265 10.822 9.05241 10.3819C8.29632 9.94983 7.21842 9.66671 6.00065 9.66671C4.78288 9.66671 3.70498 9.94983 2.94889 10.3819Z"
                  fill="#5F37D5"
                />
                <path
                  d="M12.1078 9.34498C11.838 9.28583 11.5714 9.45654 11.5123 9.72627C11.4531 9.99601 11.6238 10.2626 11.8935 10.3218C12.4218 10.4376 12.844 10.6366 13.1226 10.8646C13.4016 11.0929 13.5007 11.3158 13.5007 11.5C13.5007 11.6672 13.4202 11.8634 13.1986 12.0693C12.9753 12.2767 12.6323 12.4683 12.1898 12.6016C11.9254 12.6812 11.7756 12.9601 11.8552 13.2245C11.9348 13.4889 12.2137 13.6387 12.4781 13.5591C13.0265 13.394 13.5168 13.1386 13.8792 12.802C14.2431 12.4639 14.5007 12.0191 14.5007 11.5C14.5007 10.9235 14.1845 10.4414 13.7559 10.0907C13.3268 9.73961 12.749 9.4856 12.1078 9.34498Z"
                  fill="#5F37D5"
                />
              </svg>
              <p className="text-[#5F37D5] text-[14px] leading-[19px] font-normal">
                {" "}
                Booked by 200+ this week
              </p>
            </div>
            <div className="flex gap-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="17"
                viewBox="0 0 16 17"
                fill="none"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M11.9074 2.60876C11.9425 2.62048 11.978 2.63235 12.0141 2.64437L12.8154 2.91149C13.1242 3.01439 13.3948 3.10457 13.6095 3.20445C13.8416 3.31242 14.0543 3.45149 14.2169 3.67709C14.3795 3.90269 14.4441 4.14845 14.4732 4.40278C14.5 4.63803 14.5 4.92327 14.5 5.24871V10.7238C14.5 11.1894 14.5 11.5821 14.4639 11.8925C14.4264 12.2151 14.3424 12.5339 14.1074 12.7911C13.968 12.9437 13.7985 13.0658 13.6097 13.1498C13.2914 13.2914 12.9623 13.2703 12.6445 13.2039C12.3386 13.14 11.966 13.0158 11.5243 12.8685L11.4959 12.8591C10.7488 12.6101 10.4928 12.5325 10.2443 12.541C10.1453 12.5443 10.0469 12.5575 9.95046 12.5803C9.70846 12.6375 9.48191 12.7797 8.82671 13.2165L7.90512 13.8309C7.8735 13.852 7.84232 13.8728 7.81155 13.8933C7.10387 14.3657 6.61169 14.6942 6.03632 14.7713C5.46094 14.8483 4.89967 14.6609 4.09264 14.3914C4.05754 14.3796 4.02199 14.3678 3.98595 14.3558L3.18456 14.0886C2.87582 13.9857 2.60522 13.8956 2.39053 13.7957C2.15844 13.6877 1.94574 13.5486 1.78314 13.323C1.62053 13.0974 1.55586 12.8517 1.52682 12.5973C1.49997 12.3621 1.49998 12.0769 1.5 11.7514L1.5 6.27636C1.49998 5.81073 1.49997 5.41803 1.53607 5.10759C1.57357 4.78507 1.65763 4.46622 1.89264 4.20901C2.03205 4.05645 2.20147 3.93433 2.3903 3.85033C2.70862 3.70871 3.03769 3.72979 3.35552 3.7962C3.66144 3.86013 4.03398 3.98432 4.47571 4.13158L4.50413 4.14106C5.25117 4.39007 5.50716 4.46765 5.75568 4.45916C5.85469 4.45578 5.95313 4.4426 6.04955 4.41981C6.29154 4.36261 6.5181 4.22041 7.1733 3.78361L8.09488 3.16922C8.1265 3.14814 8.15768 3.12733 8.18845 3.10679C8.89613 2.63444 9.38831 2.30593 9.96369 2.22887C10.5391 2.15182 11.1003 2.33925 11.9074 2.60876ZM10.5 3.23702V11.5529C10.8571 11.5916 11.2332 11.7171 11.7287 11.8826C11.7561 11.8917 11.7839 11.901 11.8121 11.9104C12.2899 12.0696 12.6069 12.1745 12.849 12.2251C13.0858 12.2745 13.167 12.2523 13.2032 12.2361C13.2662 12.2081 13.3227 12.1674 13.3691 12.1166C13.3959 12.0873 13.4427 12.0173 13.4706 11.777C13.4992 11.5313 13.5 11.1974 13.5 10.6938V5.27491C13.5 4.91554 13.4992 4.68799 13.4796 4.51621C13.4615 4.3572 13.4318 4.29809 13.4056 4.2618C13.3795 4.22551 13.3328 4.17864 13.1877 4.11114C13.0309 4.03821 12.8153 3.96553 12.4743 3.85189L11.6978 3.59305C11.1069 3.39609 10.7564 3.28401 10.5 3.23702ZM9.5 11.6731V3.45564C9.29252 3.57552 9.02645 3.75002 8.64958 4.00127L7.728 4.61566C7.70329 4.63213 7.67891 4.64839 7.65486 4.66444C7.19602 4.97063 6.85397 5.19887 6.5 5.32699V13.5445C6.70748 13.4246 6.97355 13.2501 7.35042 12.9989L8.27201 12.3845C8.29672 12.368 8.32109 12.3517 8.34514 12.3357C8.80399 12.0295 9.14603 11.8013 9.5 11.6731ZM5.5 13.7631V5.44723C5.14287 5.40851 4.76681 5.28298 4.27129 5.11756C4.24386 5.10841 4.21607 5.09913 4.1879 5.08974C3.71014 4.93049 3.39313 4.82566 3.15098 4.77506C2.9142 4.72559 2.833 4.74787 2.79677 4.76399C2.73383 4.79199 2.67735 4.8327 2.63088 4.88355C2.60413 4.91283 2.55731 4.98281 2.52938 5.22309C2.5008 5.46881 2.5 5.8027 2.5 6.30631V11.7252C2.5 12.0846 2.50076 12.3121 2.52037 12.4839C2.53852 12.6429 2.56823 12.702 2.59438 12.7383C2.62053 12.7746 2.66722 12.8215 2.81233 12.889C2.96909 12.9619 3.18473 13.0346 3.52566 13.1482L4.30217 13.4071C4.89307 13.604 5.24365 13.7161 5.5 13.7631Z"
                  fill="#5F37D5"
                />
              </svg>
              <p className="text-[#5F37D5] text-[14px] leading-[19px] font-normal">
                {" "}
                Perfect for Stay Near HSR Startup Scene
              </p>
            </div>
          </div>
        </div>
      </div>
      {/* Tag */}
      <div className="relative hidden md:block max-w-[1400px] mx-auto px-4 md:px-8 lg:px-12 xl:px-16 xxl:px-28">
        <span className="absolute top-0 left-16 z-10 inline-flex items-center px-4 py-1 gap-2 bg-[#FFDB0D] shadow-md rounded-tl-2xl rounded-br-2xl text-sm font-semibold">
          Popular for long-stays
        </span>

        {/* Gallery */}
        <div className="md:grid md:grid-cols-12 gap-2 h-[520px]">
          {/* Main Image */}
          <div className="md:col-span-7 rounded-2xl overflow-hidden cursor-pointer">
            <img
              src={mainImage}
              alt="main"
              className="w-full h-full object-cover"
            />
          </div>

          {/* Side Images */}
          <div className="md:col-span-5 grid grid-cols-2 grid-rows-2 gap-2">
            {images.slice(1, 5).map((img, idx) => (
              <div
                key={idx}
                className="rounded-2xl overflow-hidden relative cursor-pointer bg-gray-200"
              >
                <img
                  src={img}
                  alt={`gallery-${idx}`}
                  className="w-full h-full object-cover"
                />

                {/* Gallery Button on Last */}
                {idx === 3 && (
                  <div className="absolute bottom-4 right-4">
                    <button className="inline-flex items-center gap-2 px-3 py-1.5 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition">
                      <img
                        src="https://gostops.s3.ap-south-1.amazonaws.com/media/Hostel/Gallery+Wide.svg"
                        alt="gallery"
                        className="w-4 h-4"
                      />
                      <span className="text-sm font-medium text-gray-700">
                        Gallery
                      </span>
                    </button>
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* Title + Info */}
      <div className="mt-4 flex justify-between flex-wrap gap-4 max-w-7xl">
        <div className="max-w-[1000px]">
          <h1 className="text-2xl font-bold">Bengaluru, HSR Silk Board</h1>
          <p className="flex items-center text-gray-500 mt-3 text-base">
            <LocateFixed />
            754/L-185, HSR Layout, Sector 6, Bengaluru - 560102
          </p>

          <div className="mt-4 inline-flex items-center gap-2 py-2 px-3 rounded-full bg-[#F1ECFF]">
            <p className="text-base font-medium text-[#5F37D5]">
              Perfect for Stay Near HSR Startup Scene
            </p>
          </div>

          <p className="text-gray-500 mt-4 text-base">
            Nestled in HSR layout near Silk Board Junction, goSTOPS Bengaluru
            HSR offers convenient access to Bengaluru’s tech parks, dining,
            shopping, and nightlife, making it a perfect spot for explorers
            looking to experience the city's dynamic culture and modern vibes.
          </p>
        </div>

        {/* Price + CTA */}
        <div className="text-right hidden md:block ">
          <p className="text-sm font-semibold text-gray-500">Starting from</p>
          <h2 className="text-2xl font-bold text-gray-900">
            ₹517.86
          </h2>

          <button className="mt-4 inline-flex items-center justify-center gap-2 rounded-xl border border-pink-200 bg-gradient-to-r from-[#F36] to-[#FF1A53] shadow-md px-6 py-3 text-white font-bold text-base">
            Select Room
          </button>
        </div>
      </div>
    </div>
  );
};

export default HeroGallery;
